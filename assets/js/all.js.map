{"version":3,"sources":["00_default.js","01_login.js","02_backend.js"],"names":["baseUrl","API_PATH","AUTH_TOKEN","document","cookie","replace","app","data","userInfo","username","password","methods","loginIn","axios","post","then","res","token","expired","Date","window","location","err","console","log","response","errTitle","message","errMSG","error","swal","icon","Vue","createApp","mount","app2","products","tempItemInfo","checkLogin","defaults","headers","common","getProducts","get","changeStatus","id","forEach","item","is_enabled","showDetail","tempID","mounted"],"mappings":"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","file":"all.js","sourcesContent":["const baseUrl = 'https://vue3-course-api.hexschool.io/v2';\r\nconst API_PATH = 'sylviah';\r\nconst AUTH_TOKEN = document.cookie.replace(/(?:(?:^|.*;\\s*)myToken\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\r\n","const app = {\r\n    data() {\r\n        return {\r\n            userInfo:{\r\n                username: '',\r\n                password: ''\r\n            }\r\n        }\r\n    },\r\n    methods:{\r\n        loginIn(){\r\n            axios.post(`${baseUrl}/admin/signin`, this.userInfo)\r\n            .then(res => {\r\n                const { token, expired } = res.data;\r\n                // 用 cookie 儲存資料，myToken 是自定義名稱\r\n                document.cookie = `myToken=${ token }; expires=${new Date(expired)};`;\r\n                window.location = './backend.html';\r\n            })\r\n            .catch(err => {\r\n                console.log(err.response);\r\n                const errTitle = err.response.data.message;\r\n                const errMSG = err.response.data.error.message;\r\n                //登入失敗，sweetalert 跳出提示訊息視窗\r\n                swal(`${errTitle}！`, errMSG, {\r\n                    icon: \"error\",\r\n                });\r\n            })\r\n        }\r\n    }\r\n};\r\n\r\n// 建立實體、掛載\r\nVue.createApp(app).mount('#app');\r\n","const app2 = {\r\n    data() {\r\n        return {\r\n            products : [],\r\n            tempItemInfo:{}\r\n        }\r\n    },\r\n    methods:{\r\n        checkLogin(){\r\n            AUTH_TOKEN = document.cookie.replace(/(?:(?:^|.*;\\s*)myToken\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\r\n            axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\r\n            axios.post(`${baseUrl}/api/user/check`)\r\n            .then(() => {\r\n                this.getProducts();\r\n            })\r\n            .catch(err => {\r\n                console.log(err.response);\r\n                window.location = './index.html';\r\n            })\r\n        },\r\n        getProducts(){\r\n            axios.get(`${baseUrl}/api/${API_PATH}/admin/products`)\r\n            .then(res => {\r\n                console.log(res.data.products);\r\n                this.products = res.data.products;\r\n            })\r\n            .catch(err => {\r\n                console.log(err.response);\r\n            })\r\n        },\r\n        changeStatus(id){\r\n            this.products.forEach(item => {\r\n                if(item.id === id){\r\n                    item.is_enabled ? item.is_enabled = 0 : item.is_enabled = 1;\r\n                }\r\n            });\r\n        },\r\n        showDetail(id){\r\n          this.tempID = id;\r\n          this.products.forEach(item => {\r\n            if(item.id === id){\r\n            this.tempItemInfo = item;\r\n            }\r\n          });\r\n        }\r\n    },\r\n    mounted(){\r\n        this.checkLogin();\r\n    }\r\n};\r\n\r\n// 建立實體、掛載\r\nVue.createApp(app2).mount('#app2');\r\n"]}